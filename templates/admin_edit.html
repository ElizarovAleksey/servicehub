<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/tailwind.css') }}?v=3">
</head>

<body class="bg-bg text-text min-h-screen
             bg-gradient-to-br from-bg via-bg to-bg/90 py-12">

<div class="max-w-5xl mx-auto
            bg-card/80 backdrop-blur-md
            border border-border
            rounded-3xl
            shadow-[0_20px_60px_rgba(0,0,0,0.08)]
            dark:shadow-[0_20px_60px_rgba(0,0,0,0.4)]
            px-10 py-12
            space-y-10">

  <!-- HEADER -->
  <div class="flex items-center justify-between">
    <div>
      <h1 class="text-2xl font-semibold">
        ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
      </h1>
      <p class="text-sm text-muted">
        –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–µ—Ä–≤–∏—Å–∞
      </p>
    </div>

    <button id="toggleTheme"
      class="text-sm px-3 py-1.5 rounded-xl border border-border
             hover:bg-accent/10 transition">
      üåó –¢–µ–º–∞
    </button>
  </div>

  <!-- –§–û–†–ú–ê -->
  <form method="post"
        class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <input name="name"
           value="{{ service.name }}"
           class="bg-bg/70 border border-border
                  focus:outline-none
                  focus:ring-2 focus:ring-accent/40
                  focus:border-accent
                  p-3 rounded-xl transition"
           required>

    <select name="group_id"
            class="bg-bg/70 border border-border
                   focus:outline-none
                   focus:ring-2 focus:ring-accent/40
                   focus:border-accent
                   p-3 rounded-xl transition"
            required>
      {% for g in groups %}
        <option value="{{ g.id }}"
          {% if g.id == service.group_id %}selected{% endif %}>
          {{ g.name }}
        </option>
      {% endfor %}
    </select>

    <input name="url"
           value="{{ service.url }}"
           class="bg-bg/70 border border-border
                  focus:outline-none
                  focus:ring-2 focus:ring-accent/40
                  focus:border-accent
                  p-3 rounded-xl transition col-span-2"
           required>

    <textarea name="description"
              class="bg-bg/70 border border-border
                     focus:outline-none
                     focus:ring-2 focus:ring-accent/40
                     focus:border-accent
                     p-3 rounded-xl transition col-span-2">{{ service.description }}</textarea>

    <div class="col-span-2 flex justify-between items-center">

      <a href="/admin"
         class="px-4 py-2 rounded-xl
                border border-border
                hover:bg-bg transition">
        ‚Üê –ù–∞–∑–∞–¥
      </a>

      <button
        class="bg-accent text-white
               px-6 py-2 rounded-xl
               hover:shadow-lg
               hover:shadow-accent/20
               transition">
        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
      </button>

    </div>

  </form>

</div>

<script>
  const themeBtn = document.getElementById('toggleTheme');
  const html = document.documentElement;

  themeBtn.onclick = () => {
    html.classList.toggle('dark');
    localStorage.setItem('theme',
      html.classList.contains('dark') ? 'dark' : 'light');
  };

  if (localStorage.getItem('theme') === 'dark') {
    html.classList.add('dark');
  }
</script>
</body>
</html>